document.addEventListener("DOMContentLoaded",(function(){function alteraDisplaysMiniCart(){var tbody=document.querySelector("div.portal-minicart-ref div.v2-vtexsc-cart div.vtexsc-center div.vtexsc-wrap table.vtexsc-productList tbody"),promoBar=document.getElementById("mini-cart__promo-highlight"),emptyCartSad=document.getElementById("mini-cart__empty-cart");tbody&&tbody.querySelectorAll("tr").length>0?(promoBar.style.display="block",emptyCartSad.style.display="none"):(promoBar.style.display="none",emptyCartSad.style.display="block")}function incrementQtdPrd(){var tbody,rowCount,rowCountStr=document.querySelector("#mini-cart__sidebar .vtexsc-productList tbody").getElementsByTagName("tr").length.toString(),cartItems;document.querySelectorAll(".header__cart-items").forEach((function(item){item.textContent=rowCountStr}))}var observer=new MutationObserver((function(){alteraDisplaysMiniCart(),incrementQtdPrd()})),portalMiniCartRef=document.querySelector(".portal-minicart-ref");function showMinicart(){var miniCartBSOffCanvas=document.getElementById("mini-cart__sidebar"),bsOffcanvas;miniCartBSOffCanvas.classList.contains("show")||new bootstrap.Offcanvas(miniCartBSOffCanvas).show()}portalMiniCartRef&&observer.observe(portalMiniCartRef,{childList:!0,subtree:!0}),document.getElementById("minicart__promo-cta-btn").onclick=function(){vtexjs.checkout.getOrderForm().then((function(orderForm){var code="ARRAIAL10";return vtexjs.checkout.addDiscountCoupon(code)})).then((function(orderForm){console.log(orderForm),console.log(orderForm.paymentData),console.log(orderForm.totalizers);const Toast=Swal.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:4e3,timerProgressBar:!0,didOpen:function(toast){toast.onmouseenter=Swal.stopTimer,toast.onmouseleave=Swal.resumeTimer}});Toast.fire({icon:"success",title:"Cupom adicionado ao carrinho!"}),showMinicart()}))}}));