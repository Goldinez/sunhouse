function loadButtons(){setTimeout((function(){var productTrInput=document.querySelectorAll('tr[data-bind="foreach: $parent.columns"] .inputedit'),productTrRmv=document.querySelectorAll('tr[data-bind="foreach: $parent.columns"] .deletethissku');productTrInput.forEach((function(element){var button=document.createElement("button");button.setAttribute("class","wishlist--add-to-cart-button"),button.setAttribute("id","wishlist__add-to-cart-button");var link=document.createElement("a");link.setAttribute("target","_self"),link.setAttribute("class","wishlist-add-to-cart"),link.setAttribute("id","wishlist__add-to-cart"),link.setAttribute("href","javascript:void(0)"),link.setAttribute("style","display: block"),button.appendChild(link),element.parentNode.insertBefore(button,element.nextSibling)})),productTrRmv.forEach((function(element){var rmvButton=document.createElement("a");rmvButton.setAttribute("class","wishlist--remove-product-button"),rmvButton.setAttribute("id","wishlist__remove-product-button"),element.parentNode.insertBefore(rmvButton,element.nextSibling)}));var productTr=document.querySelectorAll('tr[data-bind="foreach: $parent.columns"]'),loadingBg;setTimeout((function(){productTr.forEach((function(element){var addToCartButton=element.querySelector(".wishlist--add-to-cart-button"),rmvFromListButton=element.querySelector(".wishlist--remove-product-button"),productTd;addToCartButton.addEventListener("click",(function(){var input,skuId;addtoCartWishlist(element.querySelector(".giftlistsku-input-wishedamt").getAttribute("name"))})),rmvFromListButton.addEventListener("click",(function(){var input,skuId;removeFromWishlist(element.querySelector(".checkuncheckthis").getAttribute("value"))})),element.querySelectorAll("td").forEach((function(td){if("produto indisponível"===td.textContent.trim()){td.style.whiteSpace="unset";var wishedElement=element.querySelector(".wished");wishedElement&&(wishedElement.style.display="none")}else console.log("Sem produtos indisponíveis")}))}))}),1e3),document.getElementById("loading_bg").style.display="none"}),2e3)}function addtoCartWishlist(skuId){$.ajax({url:"/api/catalog_system/pub/products/search/?fq=productId:"+skuId,method:"GET",timeout:0,headers:{Accept:"application/json","Content-Type":"application/json"}}).done((function(a){if(a&&a.length>0&&a[0].items&&a[0].items.length>0&&a[0].items[0].itemId){var skuId={id:a[0].items[0].itemId,quantity:1,seller:"1"};vtexjs.checkout.addToCart([skuId],null,1).done((function(a){const Toast=Swal.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:toast=>{toast.onmouseenter=Swal.stopTimer,toast.onmouseleave=Swal.resumeTimer}});Toast.fire({icon:"success",title:"Produto adicionado ao carrinho!"})}))}else{const Toast=Swal.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:toast=>{toast.onmouseenter=Swal.stopTimer,toast.onmouseleave=Swal.resumeTimer}});Toast.fire({icon:"error",title:"Produto indisponível"})}}))}function showMinicart(){var miniCartBSOffCanvas=document.getElementById("mini-cart__sidebar"),bsOffcanvas;miniCartBSOffCanvas.classList.contains("show")||new bootstrap.Offcanvas(miniCartBSOffCanvas).show()}function removeFromWishlist(skuId){var userListId=document.getElementById("gid").getAttribute("value"),url;fetch(`https://www.sunhouse.com.br/no-cache/giftlistv2/changewishedamount/${userListId}/${skuId}/0`,{method:"POST",headers:{"Content-Type":"application/json"}}).then(response=>{if(!response.ok)throw new Error("Erro na solicitação POST");window.location.reload()}).catch(error=>console.error("Erro:",error))}window.onload=function(){loadButtons()},document.addEventListener("click",(function(event){var loadingBg;event.target.matches(".ko-grid-pageLinks *")&&(window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("loading_bg").style.display="block",loadButtons())})),$(document).ready((function(){var listaVazia,infoLista;document.querySelector(".no-product")&&(document.getElementById("lista_vazia").style.cssText="display: flex !important;")}));